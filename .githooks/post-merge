#!/bin/sh
set -eu
cd "$(git rev-parse --show-toplevel)"
echo Installing Golang apps >> /dev/stderr
go get github.com/giantswarm/semver-bump || true
go get github.com/nishanths/license || true
go get github.com/jmespath/jp || true
go get github.com/spelufo/on-change || true
go get github.com/kaorimatz/mysqldump-loader || true
go get github.com/lucagrulla/cw || true
go get sigs.k8s.io/kind || true
echo Installing Python apps >> /dev/stderr
python3 -m pip install --user --requirement requirements.txt
python2 -m pip install --user gsutil
echo Downloading binary and vendored files, creating generated files >> /dev/stderr
git clean -fX .bash_completion.d/
make all
echo Installing Git hooks >> /dev/stderr
Documents/bin/install-git-hooks
echo Loading dconf config >> /dev/stderr
Documents/bin/dconf-load
echo Configuring Git repo >> /dev/stderr
git config --local status.showUntrackedFiles no
echo Adding Cron job >> /dev/stderr
Documents/bin/cron-jobs
